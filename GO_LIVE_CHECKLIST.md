# 📋 Stock Portfolio Tracker 上線查檢表 (Go-Live Checklist)

這是專為 **Stock Portfolio Tracker** 專案設計的上線清單，確保從開發環境轉移至 **Vercel** 正式環境時順暢無誤。

---

## 🛠️ 第一階段：GitHub 基礎準備 (DevOps)
*   [ ] **代碼同步**：執行 `git push origin master` 確保雲端代碼為最新版本。
*   [ ] **Secrets 配置**：在 GitHub 倉庫的 `Settings > Secrets and variables > Actions` 中確認已設定：
    *   `VITE_SUPABASE_URL`: 專案 API URL。
    *   `SUPABASE_SERVICE_ROLE_KEY`: 具備寫入權限的私鑰 (Service Role)。
    *   `OPENCLAW_GATEWAY_URL`: 訊息通知網關。
    *   `OPENCLAW_GATEWAY_TOKEN`: 網關驗證 Token。
    *   `NOTIFICATION_TARGET_ID`: 接收通知的 LINE User ID。

## 🔐 第二階段：Supabase 雲端安全 (Backend)
*   [ ] **資料庫結構**：確認已執行 `supabase_schema.sql` 與 `update_sector_column.sql`。
*   [ ] **RLS 安全策略**：確認所有表格均開啟 Row Level Security，確保使用者數據隔離。
*   [ ] **管理員權限**：執行 `scripts/admin_setup.py` 或手動 SQL 初始化 `sys@stockadmin.tw` 帳號。
*   [ ] **Auth 設定**：
    *   `Site URL`: 暫填 `http://localhost:5173`。
    *   `Google Provider`: 確認已填入 Google Client ID 與 Secret。

## 🚀 第三階段：Vercel 部署執行 (Frontend)
*   [ ] **匯入專案**：在 Vercel 儀表板點擊 `Import` 選擇此倉庫。
*   [ ] **設定環境變數**：在 Vercel 設定頁面手動新增：
    *   `VITE_SUPABASE_URL`: (同 GitHub)
    *   `VITE_SUPABASE_ANON_KEY`: 匿名公開金鑰 (Public Key)。
*   [ ] **首次建置**：點擊 `Deploy` 並等待 Build 完成。

## 🛡️ 第四階段：正式環境聯動優化 (Post-Deployment)
*   [ ] **更新 Redirect URL**：
    *   取得 Vercel 提供的正式網址 (例: `https://stock-tracker.vercel.app`)。
    *   將此網址填回 Supabase 的 `Site URL`。
    *   將此網址加入 Google Cloud Console 的「授權的重新導向 URI」。
*   [ ] **功能測試**：
    *   [ ] 測試 Google 登入是否能成功跳轉。
    *   [ ] 測試「手動更新股價」是否運作正常。
    *   [ ] 測試「獲利總覽」圖表是否正確渲染。

---
*Generated by Little Dumpling AI Assistant (小糰子) 🍡*
